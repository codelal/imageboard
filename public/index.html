<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="/style.css">
    <title></title>
</head>
<body>
    <h1>Welcome to this wounderful Imageboard</h1>
    <h3>Latest Images</h3>
     <!-- Main element has access to Vue logic -->
    <div id = "main">
        <form method="POST" action="/upload" enctype="multipart/form-data">
            <input name ="title" placeholder="Title" type ="text" v-model="title">
            <input name ="imageDescription" placeholder="Image Description"type ="text" v-model="imageDescription">
            <input name ="userName" placeholder="username"type ="text" v-model="userName">
            <input name ="file" type ="file" accept ="image/*" @change="handleFileChange">

            <button @click="handleUpload">Upload</button>
        </form>

        <div class="grid-container">
            <div v-for="image in images"><a :href="'#' + image.id" alt="image"> <img :src="image.url" alt="image"/></a>
                <p>{{image.title}}</p>
            </div>
            
   </form>
        </div>
          <button id="more-button" @click="showMoreImages">More</button>
          <!-- this is where I render my component (inside Main) -->
        <vue-component
            v-if="imageId"
            :image-id="imageId"
          @close="closeImage"
         ></vue-component>   
 
    </div>
       <!-- THIS IS WHERE THE CODE FOR THE COMPONENT GOES -->
    <script id = "template" type ="text/x-template">
        <div class ="component">
            <div @click="closeModal">Close the image</div>
            <h3>{{title}}</h3>
           <img class="clicked - image" :src="url"/>
             <p>{{createdAt}}</p>
            <p>{{username}}</p>
            <p>{{description}}</p>
            <comments-component
                 :image-id="imageId"
           ></comments-component">
          
        </div>    
    </script>
    
 <script id = "childTemplate" type ="text/x-template">
        <div class ="comments-component">
           <h2>this is child component</h2>
              <form method="POST" action="/upload" enctype="multipart/form-data">
            <input name ="name" placeholder="name"type ="text" v-model="name">
           <input name ="comment" placeholder="comment"type ="text" v-model="comment">
            <button @click="postComments">Post Comment</button>
        </form>
      <div v-for="comment in comments">
                <p class ="single-comment">{{comment.name}} {{comment.comment}} {{comment.created_at}}</p>
      </div>
        </div>    
    </script>


    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
     <script src="/js/script.js"></script>
</body>
</html>
